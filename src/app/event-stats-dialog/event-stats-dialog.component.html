<div class="dialog-content" *ngIf="!loading && !errorOccured" #chartsContainer>
  <h2 class="main-title">Event Statistics</h2>

  <!-- Line Chart -->
  <div class="chart-block">
    <h3>Ratings Over Time</h3>
    <canvas #lineChart></canvas>
  </div>

  <!-- Pie Chart -->
  <div class="chart-block" *ngIf="!(stats.numAcceptedInvitations == 0 && stats.numDeclinesInvitations == 0 && stats.numPendingInvitations == 0)">
    <h3>Invitations</h3>
    <canvas #pieChart style="max-width: 400px; max-height: 400px;"></canvas>
  </div>

  <!-- Bar Chart -->
  <div class="chart-block" *ngIf="!(stats.numAcceptedInvitations == 0 && stats.numDeclinesInvitations == 0 && stats.numPendingInvitations == 0)">
    <h3>Attendance</h3>
    <canvas #barChart></canvas>
  </div>
</div>

<div class="dialog-footer" *ngIf="!loading && !errorOccured">
  <button mat-stroked-button color="primary" (click)="downloadPDF()">Download PDF</button>
  <button mat-stroked-button color="warn" (click)="close()">Close</button>
</div>

<div *ngIf="loading" class="loading-block">
  <p>Loading statistics...</p>
</div>

<div *ngIf="errorOccured" class="error-block">
  <p>Error loading statistics. Please try again.</p>
</div>
